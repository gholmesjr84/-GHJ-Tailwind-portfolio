import React,{useState} from 'react'
import data from '../content/site.json'
export default function Gallery(){const[active,setActive]=useState(null);const item=Number.isInteger(active)?data.gallery[active]:null;return(<section id="gallery" className="py-12" aria-labelledby="gallery-heading"><div className="max-w-6xl mx-auto px-4"><div className="flex items-end justify-between mb-4"><div><h2 id="gallery-heading" className="logo-font text-3xl text-deepplum dark:text-mustard">Portfolio</h2><p className="text-sm text-neutral-600 dark:text-neutral-300">Art uploads are coming soon. Hover frames, click to open lightbox.</p></div><a href="#services" className="btn-outline">Commission info</a></div><div className="grid grid-cols-2 md:grid-cols-3 gap-3">{data.gallery.map((img,idx)=>(<button key={idx} onClick={()=>setActive(idx)} className="relative group rounded-xl overflow-hidden"><img className="aspect-square w-full object-cover" src={img.src} alt={img.alt}/><span className="absolute inset-0 rounded-xl ring-2 ring-transparent group-hover:ring-teal group-hover:ring-offset-2 ring-offset-bone transition"></span>{img.placeholder&&<span className="absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded">Coming soon</span>}</button>))}</div>{item&&(<div role="dialog" aria-modal="true" className="fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4" onClick={()=>setActive(null)}><div className="bg-white dark:bg-neutral-900 rounded-2xl max-w-3xl w-full p-3 shadow-soft" onClick={e=>e.stopPropagation()}><div className="flex items-center justify-between mb-2"><h3 className="text-lg font-semibold">{item.title}</h3><button className="btn-outline" onClick={()=>setActive(null)} aria-label="Close">Close</button></div><img className="w-full rounded-xl" src={item.src} alt={item.alt}/><div className="mt-3 flex justify-between"><button className="btn-outline" onClick={()=>setActive(a=>Math.max(0,(a??0)-1))} disabled={active===0}>Prev</button><button className="btn-outline" onClick={()=>setActive(null)}>Close</button><button className="btn-outline" onClick={()=>setActive(a=>Math.min(data.gallery.length-1,(a??0)+1))} disabled={active===data.gallery.length-1}>Next</button></div></div></div>)}</div></section>)}
